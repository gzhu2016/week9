<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>五星红旗</title>
</head>
<body>
<canvas id="canvas" width="600" height="400"></canvas>

<script type="text/javascript">
    var canvas = document.getElementById("canvas");
    var context = canvas.getContext('2d');
    var width = canvas.width;
    var height = width * 2 / 3;
    var w = width / 30;
    context.fillStyle = "red";
    context.fillRect(0, 0, width, height);
    var maxR = 0.15, minR = 0.05;
    var maxX = 0.25, maxY = 0.25;
    var minX = [0.50, 0.60, 0.60, 0.50];
    var minY = [0.10, 0.20, 0.35, 0.45];

    var ox = height * maxX, oy = height * maxY;
   create5star(context, ox, oy, height * maxR, "#ff0", 0);
    for (var idx = 0; idx < 4; idx++) {
        var sx = minX[idx] * height, sy = minY[idx] * height;
        var theta = Math.atan((oy - sy) / (ox - sx));
        create5star(context, sx, sy, height * minR, "#ff0", -Math.PI / 2 + theta);
    }

    function create5star(context, sx, sy, radius, color, rotato){
        context.save();
        context.fillStyle = color;
        context.translate(sx, sy);
        context.rotate(Math.PI + rotato);
        context.beginPath();
        var x = Math.sin(0);
        var y = Math.cos(0);
        var dig = Math.PI / 5 * 4;
        for (var i = 0; i < 5; i++) {
            var x = Math.sin(i * dig);
            var y = Math.cos(i * dig);
            context.lineTo(x * radius, y * radius);
        }
        context.closePath();
        context.stroke();
        context.fill();
        context.restore();
    }






    /* context.moveTo(0, height / 2)
     context.lineTo(width, height / 2);
     context.stroke();
     context.moveTo(width / 2, 0);
     context.lineTo(width / 2, height);
     context.stroke();
     for (var j = 0; j < 15; j++) {
     context.moveTo(j * w, 0);
     context.lineTo(j * w, height / 2);
     context.stroke();
     }
     for (var j = 0; j < 10; j++) {
     context.moveTo(0, j * w);
     context.lineTo(width / 2, j * w);
     context.stroke();
     }
     context.beginPath();
     context.arc(ox, oy, maxR * height, 0, Math.PI * 2, false);
     context.closePath();
     context.stroke();
     for (var idx = 0; idx < 4; idx++) {
     context.beginPath();
     var sx = minX[idx] * height, sy = minY[idx] * height;
     context.arc(sx, sy, height * minR, 0, Math.PI * 2, false);
     context.closePath();
     context.stroke();
     }
     for (var idx = 0; idx < 4; idx++) {
     context.moveTo(ox, oy);
     var sx = minX[idx] * height, sy = minY[idx] * height;
     context.lineTo(sx, sy);
     context.stroke();
     }*/
</script>
</body>
</html>





